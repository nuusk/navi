@import '../../utilities/sizes.sass'
@import '../../utilities/palette.sass'
@import '../../utilities/variables.sass'

$navi-size: 40px

%navi-center
  position: absolute
  top: 25px
  left: calc(50vw - 200px)
  @media screen and (max-width: 700px)
    left: calc(50vw - 120px)
.main-view
  .Navi
    animation: fade .7s
    position: relative
    background-color: red
    .navi-outer
      transition: 1s
      @extend %navi-center
      width: $navi-size*1.25
      height: $navi-size*1.25
      background-color: $navi-primary
      margin: 0 auto
      border-radius: 50%
    .navi-inner

      transition: 1s
      @extend %navi-center
      width: $navi-size
      height: $navi-size
      background-color: $white
      margin: auto
      border-radius: 50%
      &:hover
        cursor: pointer
      &:active
        transform: scale(0.8) !important
  .dialogue
    .navi-outer
      animation: dialogue-outer 4s infinite
    .navi-inner
      animation: dialogue-inner 1.5s infinite
  .starting
    .navi-outer
      top: -120px
      left: 50%
      animation: starting-outer 4s infinite
    .navi-inner
      top: -120px
      left: 50%
      animation: starting-inner 1.5s infinite
  .register
    .navi-outer
      position: absolute
      top: 50%
      left: 50%
      transform: translate(-50%, -50%)
    .navi-inner
      position: absolute
      top: 50%
      left: 50%
      transform: translate(-50%, -50%)
  //klase zawierające konkretne animacje
  //idle jest to domyślna animacja
  .idle
    .navi-outer
      animation: emitting-power 4s infinite 3s
    .navi-inner
      animation: glowing-body 2s infinite

  .login
    .navi-outer
      left: 50%
      animation: swing-outer 2s infinite cubic-bezier(.75,.2,.87,1)
    .navi-inner
      left: 50%
      animation: swing-inner 2s infinite ease-out
  //animacja loader jest załączana, kiedy użytkownik czeka na odpowiedź
  .loading
    .navi-outer
      transform-origin: 0% 0%
      animation: loader-outer .6s infinite linear
      animation-delay: .2s
    .navi-inner
      transform-origin: 0% 0%
      animation: loader-inner 1s infinite cubic-bezier(.15,1,.74,.11)

  .recording
    .navi-outer
      transition: .3s
      background-color: $white
      animation: recording-outer 1.3s infinite
      animation-direction: alternate

    .navi-inner
      transition: .3s
      background-color: $balloon-red
      animation: recording-inner 1.2s infinite

$swing-distance: 40px

@keyframes swing-inner
  0%
    transform: translate(-50%, -50%) translate($swing-distance, 0)
  50%
    transform: translate(-50%, -50%) translate(-$swing-distance, 0)
  100%
    transform: translate(-50%, -50%) translate($swing-distance, 0)

@keyframes swing-outer
  0%
    transform: translate(-50%, -50%) translate($swing-distance*1.5, 0) scale(1)
  50%
    transform: translate(-50%, -50%) translate(-$swing-distance*1.5, 0) scale(.5)
  100%
    transform: translate(-50%, -50%) translate($swing-distance*1.5, 0) scale(1)

@keyframes bounce-inner
  0%
    transform: translateY(0px) scaleX(1)
  60%
    transform: translateY(60px) scaleX(0.9)
  80%
    transform: translateY(70px) scaleY(0.4) scaleX(1.4)
  100%
    transform: translateY(0px)

@keyframes loader-outer
  0%
    transform: scale(0.4) rotate(0deg)
  100%
    transform: scale(0.4) rotate(360deg)

@keyframes loader-inner
  0%
    transform: scale(0.6) rotate(0deg)
  100%
    transform: scale(0.6) rotate(360deg)

//definicja animacji na podstawie konkretnych stanów w określonych punktach w czasie
@keyframes glowing-body
  0%
    transform: translate(-50%, -50%) scale(1)
  50%
    transform: translate(-50%, -50%) scale(1.1)
  100%
    transform: translate(-50%, -50%) scale(1)

@keyframes dialogue-outer
  0%
    transform: translate(-50%, -50%) scale(0.1, 0)
  30%
    transform: translate(-50%, -50%) scale(0.1, 2)
  40%
    transform: translate(-50%, -50%) scale(0.1, 2)
  60%
    transform: translate(-50%, -50%) scale(0.1, 2) rotate(360deg)
  100%
    transform: translate(-50%, -50%) scale(2)
    opacity: 0

@keyframes dialogue-inner
  0%
    transform: translate(-50%, -50%) scale(0.8, 1.1)
  50%
    transform: translate(-50%, -50%) scale(1.2, 0.7)
  100%
    transform: translate(-50%, -50%) scale(0.8, 1.1)

//definicja animacji na podstawie konkretnych stanów w określonych punktach w czasie
@keyframes starting-inner
  0%
    transform: translate(-50%, -50%) scale(1)
  50%
    transform: translate(-50%, -50%) scale(1.1)
  100%
    transform: translate(-50%, -50%) scale(1)

@keyframes starting-outer
  0%
    transform: translate(-50%, -50%) scale(0)
    opacity: 0
  10%
    transform: translate(-50%, -50%) scale(0.2)
    opacity: 1
  100%
    transform: translate(-50%, -50%) scale(2)
    opacity: 0


@keyframes emitting-power
  0%
    transform: translate(-50%, -50%) scale(0)
    opacity: 0
  10%
    transform: translate(-50%, -50%) scale(0.2)
    opacity: 1
  100%
    transform: translate(-50%, -50%) scale(2)
    opacity: 0

@keyframes recording-outer
  0%
    transform: translate(-50%, -50%) scale(0)
    opacity: 0
  10%
    transform: translate(-50%, -50%) scale(0.2)
    opacity: 1
  100%
    transform: translate(-50%, -50%) scale(1.2)
    opacity: 0

@keyframes recording-inner
  0%
    transform: translate(-50%, -50%) scale(.5)
  50%
    transform: translate(-50%, -50%) scale(.8)
  100%
    transform: translate(-50%, -50%) scale(.5)


@keyframes change-color
  0%
    background-color: $white
  90%
    background-color: $navi-primary
  100%
    background-color: $white

@keyframes go-to-dialogue
  0%
    left: 50%
    top: 23%
  15%
    left: 40%
    top: 24%
  100%
    left: 50%
    top: 50%

@keyframes hide
  from
    left: 37%
    top: 25%
  to
    left: 20%
    top: 25%


@keyframes fade
  0%
    opacity: 0
  100%
    opacity: 1
